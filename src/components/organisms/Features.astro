---
import Podcasting20Badge from "assets:Podcasting20Badge";
import FediverseIllustration from "images:castopod-fediverse-illustration.webp";
import VideoClipsIllustration from "images:castopod-video-clips-illustration.webp";
import BroadcastIllustration from "images:castopod-broadcast-illustration.webp";
import AnalyticsIllustration from "images:castopod-analytics-illustration.webp";
import ValueIllustration from "images:castopod-value-illustration.webp";
import Path1 from "assets:DashedPath/Path1";
import Path2 from "assets:DashedPath/Path2";
import Path3 from "assets:DashedPath/Path3";
import Path4 from "assets:DashedPath/Path4";
import Path5 from "assets:DashedPath/Path5";
import Path6 from "assets:DashedPath/Path6";
import StraightPath from "assets:DashedPath/StraightPath";
import { Icon } from "astro-icon/components";
import { t } from "i18next";
import { Trans } from "astro-i18next/components";
import { localizePath } from "astro-i18next";
import { Image } from "astro:assets";
---

<section id="features" class="container py-24">
  <h2
    class="relative max-w-lg mx-auto text-4xl font-bold text-center font-display text-pine-800"
  >
    {t("features.title")}
    <StraightPath
      className="lg:hidden absolute h-24 -bottom-48 mx-auto inset-x-0"
    />
    <Path1 className="hidden lg:block absolute h-24 -bottom-full left-48" />
  </h2>
  <div
    class="grid justify-center grid-cols-1 px-12 mx-auto mt-56 text-center gap-y-28 lg:gap-y-60 lg:gap-x-40 lg:text-left lg:grid-cols-2"
  >
    <article
      class="relative flex flex-col items-center lg:flex-row-reverse lg:col-start-1 lg:row-start-1 lg:items-start"
    >
      <Image
        src={FediverseIllustration}
        alt={t("features.fediverse.illustrationAlt")}
        class="flex-1 w-full max-w-md m-auto lg:absolute lg:-right-full -z-10 lg:inset-y-0 h-96 aspect-square"
      />
      <div
        class="flex flex-col items-center max-w-md -mt-12 lg:items-start lg:mt-0"
      >
        <h2
          class="relative z-10 inline-block text-2xl font-bold font-display after:bg-pine-100 after:-z-10 text-pine-800 after:w-full after:h-1/2 after:absolute after:left-0 after:-bottom-1 after:rounded-full"
        >
          <Icon
            name="ri:checkbox-circle-fill"
            class="absolute top-1 -left-8"
          />
          {t("features.fediverse.title")}
        </h2>
        <p class="mt-2">
          <Trans i18nKey="features.fediverse.description">
            Interact with your audience in the fediverse, a decentralized social
            network. Your podcast becomes a social network: your episodes can be
            shared, liked and commented on without depending on <em>anyone</em>.
          </Trans>
        </p>
      </div>
      <StraightPath
        className="lg:hidden absolute h-16 -bottom-32 mx-auto inset-x-0"
      />
      <Path2 className="hidden lg:block absolute h-24 -bottom-full left-1/2" />
    </article>
    <article
      class="relative flex flex-col items-center lg:flex-row lg:col-start-2 lg:row-start-2 lg:items-start"
    >
      <Image
        src={VideoClipsIllustration}
        alt={t("features.marketing.illustrationAlt")}
        class="flex-1 w-full max-w-md m-auto lg:absolute lg:-left-full -z-10 lg:inset-y-0 h-96 aspect-square"
      />
      <div
        class="flex flex-col items-center max-w-md -mt-12 lg:items-start lg:mt-0"
      >
        <h2
          class="relative z-10 inline-block text-2xl font-bold font-display after:bg-pine-100 after:-z-10 text-pine-800 after:w-full after:h-1/2 after:absolute after:left-0 after:-bottom-1 after:rounded-full"
        >
          <Icon
            name="ri:checkbox-circle-fill"
            class="absolute top-1 -left-8"
          />
          {t("features.marketing.title")}
        </h2>
        <p class="mt-2">
          {t("features.marketing.description")}
        </p>
      </div>
      <StraightPath
        className="lg:hidden absolute h-16 -bottom-32 mx-auto inset-x-0"
      />
      <Path3 className="hidden lg:block absolute h-24 -bottom-full right-1/2" />
    </article>
    <article
      class="relative flex flex-col items-center lg:flex-row-reverse lg:col-start-1 lg:row-start-3 lg:items-start"
    >
      <Image
        src={BroadcastIllustration}
        alt={t("features.broadcast.illustrationAlt")}
        class="flex-1 w-full max-w-md m-auto lg:absolute lg:-right-3/4 -z-10 lg:inset-y-0 h-96 aspect-square"
      />
      <div
        class="flex flex-col items-center max-w-md -mt-12 lg:items-start lg:mt-0"
      >
        <h2
          class="relative z-10 inline-block text-2xl font-bold font-display after:bg-pine-100 after:-z-10 text-pine-800 after:w-full after:h-1/2 after:absolute after:left-0 after:-bottom-1 after:rounded-full"
        >
          <Icon
            name="ri:checkbox-circle-fill"
            class="absolute top-1 -left-8"
          />
          {t("features.broadcast.title")}
        </h2>
        <p class="mt-2">
          {t("features.broadcast.description")}
        </p>
      </div>
      <StraightPath
        className="lg:hidden absolute h-16 -bottom-32 mx-auto inset-x-0"
      />
      <Path4 className="hidden lg:block absolute h-24 -bottom-full left-1/2" />
    </article>
    <article
      class="relative flex flex-col items-center lg:flex-row lg:col-start-2 lg:row-start-4 lg:items-start"
    >
      <Image
        src={AnalyticsIllustration}
        alt={t("features.analytics.illustrationAlt")}
        class="flex-1 w-full max-w-md m-auto lg:absolute lg:-left-full -z-10 lg:inset-y-0 h-96 aspect-square"
      />
      <div
        class="flex flex-col items-center max-w-md -mt-12 lg:items-start lg:mt-0"
      >
        <h2
          class="relative z-10 inline-block text-2xl font-bold font-display after:bg-pine-100 after:-z-10 text-pine-800 after:w-full after:h-1/2 after:absolute after:left-0 after:-bottom-1 after:rounded-full"
        >
          <Icon
            name="ri:checkbox-circle-fill"
            class="absolute top-1 -left-8"
          />
          {t("features.analytics.title")}
        </h2>
        <p class="mt-2">
          {t("features.analytics.description")}
        </p>
      </div>
      <StraightPath
        className="lg:hidden absolute h-16 -bottom-32 mx-auto inset-x-0"
      />
      <Path5 className="hidden lg:block absolute h-24 -bottom-full right-1/2" />
    </article>
    <article
      class="relative flex flex-col items-center lg:flex-row-reverse lg:col-start-1 lg:row-start-5 lg:items-start"
    >
      <Image
        src={ValueIllustration}
        alt={t("features.value.illustrationAlt")}
        class="flex-1 w-full max-w-md m-auto lg:absolute lg:-right-3/4 -z-10 lg:inset-y-0 h-96 aspect-square"
      />
      <div
        class="flex flex-col items-center max-w-md -mt-12 lg:items-start lg:mt-0"
      >
        <h2
          class="relative z-10 inline-block text-2xl font-bold font-display after:bg-pine-100 after:-z-10 text-pine-800 after:w-full after:h-1/2 after:absolute after:left-0 after:-bottom-1 after:rounded-full"
        >
          <Icon
            name="ri:checkbox-circle-fill"
            class="absolute top-1 -left-8"
          />
          {t("features.value.title")}
        </h2>
        <p class="mt-2">
          <Trans i18nKey="features.value.description">
            Publish your podcast for free or monetize it. Get paid through
            premium subscriptions, micropayments, tips, or automatically embed
            listen‑to‑click ads (using
            <a
              href="https://adaures.com/#listen-to-click"
              class="underline hover:no-underline decoration-pine-500 decoration-2"
              >Ad Aures’ cookieless solution
            </a>
            for example).
          </Trans>
        </p>
      </div>
      <StraightPath
        className="lg:hidden absolute h-24 -bottom-48 mx-auto inset-x-0"
      />
    </article>
  </div>

  <article class="relative max-w-3xl px-12 mx-auto mt-64 text-center">
    <Path6 className="hidden lg:block absolute h-24 -top-1/2 left-1/3" />

    <h2 class="text-4xl font-bold font-display text-pine-800">
      {t("features.podcasting20.title")}
    </h2>
    <a
      href="https://github.com/Podcastindex-org"
      title={t("features.podcasting20.podcasting20Certified")}
    >
      <Podcasting20Badge className="h-5 mx-auto my-8" />
    </a>
    <p class="max-w-xl mx-auto text-xl">
      <Trans i18nKey="features.podcasting20.description">
        Unlock features never seen before and available on
        <a
          href="https://podcastindex.org/apps"
          class="underline decoration-pine-500 decoration-2 hover:no-underline"
          >many platforms
        </a>
        thanks to the
        <a
          href="https://podcastindex.org/"
          class="underline decoration-pine-500 decoration-2 hover:no-underline"
          >Podcast Index
        </a>
        community.
      </Trans>
    </p>
    <p class="max-w-xl mx-auto mt-4 text-xl">
      <Trans i18nKey="features.podcasting20.description2">
        Castopod allows you to specify <strong>locations</strong>,
        <strong>persons</strong>, <strong>transcripts</strong>,
        <strong>chapters</strong>, and much more!
      </Trans>
    </p>
    <div
      class="flex flex-wrap items-center justify-center mt-6 gap-x-2 gap-y-4"
    >
      <a
        href={import.meta.env.PUBLIC_CASTOPOD_PACKAGE_URL}
        class="inline-flex items-center px-4 py-2 font-semibold text-white border-2 border-transparent rounded-full shadow-md group gap-x-2 bg-pine-500 hover:bg-pine-800 focus:outline-none focus:ring-2 focus:ring-pine-400 focus:ring-opacity-75"
        download
        data-analytics={'"Download", ' +
          JSON.stringify({
            props: {
              via: "Features CTA",
              version: import.meta.env.PUBLIC_CASTOPOD_VERSION,
            },
          })}
      >
        <Icon
          name="ri:download-cloud-2-fill"
          class="text-2xl text-pine-800 group-hover:text-pine-500"
        />{t("common:downloadCastopod")}
      </a>
      <a
        href={localizePath("/getting-started")}
        class="inline-flex items-center px-4 py-2 font-semibold text-black bg-white border-2 rounded-full border-pine-500 gap-x-2 hover:bg-pine-100 focus:outline-none focus:ring-2 focus:ring-pine-400 focus:ring-opacity-75"
      >
        {t("common:getStarted")}
        <Icon name="ri:arrow-right-line" class="text-2xl text-pine-500" />
      </a>
    </div>
  </article>
</section>
